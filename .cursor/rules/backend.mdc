---
description: AI is generating APIs, services, or data workflows.
globs: 
alwaysApply: false
---
⚙️ Backend Rule (AI-Context Activated)
Hexagonal Domain Clarity & Functional Isolation
"Every backend element must embody hexagonal structure: clean domain logic at the core, infrastructure at the edge. Business logic must never leak. Systems should expose intent via contracts, not implementation."

Applies when:
- AI is generating APIs, services, or data workflows.

Design Principles:
- DDD Bounded Contexts → clear separation between domain, application, infrastructure.
- All logic must be unit-testable without external systems.
- Ports (interfaces) and adapters (implementations) must be swappable with minimal refactoring.
- Side effects (DB, HTTP, file system) must be explicitly isolated.

Dev Heuristics:
✅ Can the domain logic be run in isolation?
✅ Are infrastructure dependencies abstracted?
✅ Can modules be composed into other services?