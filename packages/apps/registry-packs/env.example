# -----------------------------------------------------------------------------
# @contractspec/app.registry-packs - environment template
# -----------------------------------------------------------------------------
# Copy this file to .env.local (development) or configure these values in Vercel.

# -----------------------------------------------------------------------------
# Runtime / database
# -----------------------------------------------------------------------------
# Use PostgreSQL in production (recommended for Vercel)
DB_DRIVER=pg
DATABASE_URL=postgres://USER:PASSWORD@HOST:5432/agentpacks_registry

# PostgreSQL pool tuning (optional)
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECT_TIMEOUT=5000

# Local development alternative (do not use on Vercel production)
# DB_DRIVER=sqlite
# DATABASE_URL=./data/registry.db

# -----------------------------------------------------------------------------
# Pack tarball storage
# -----------------------------------------------------------------------------
# Use S3-compatible object storage in production (Vercel filesystem is ephemeral)
STORAGE_BACKEND=s3
S3_ENDPOINT=https://s3.us-east-1.amazonaws.com
S3_BUCKET=agentpacks-registry
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=YOUR_ACCESS_KEY
S3_SECRET_ACCESS_KEY=YOUR_SECRET_KEY
S3_PREFIX=packs/

# Optional AWS-compatible aliases (if you prefer AWS_* names)
# AWS_ACCESS_KEY_ID=YOUR_ACCESS_KEY
# AWS_SECRET_ACCESS_KEY=YOUR_SECRET_KEY

# Local development alternative
# STORAGE_BACKEND=local

# -----------------------------------------------------------------------------
# Rate limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW=60
RATE_LIMIT_GENERAL=100
RATE_LIMIT_PUBLISH=10

# -----------------------------------------------------------------------------
# Optional GitHub release auto-publish integration
# -----------------------------------------------------------------------------
# HMAC secret configured in your GitHub webhook
# GITHUB_WEBHOOK_SECRET=replace-me

# JSON map from "owner/repo" to pack name
# Example: {"lssm-tech/agentpacks-typescript":"typescript-best-practices"}
# GITHUB_REPO_PACK_MAP={}

# -----------------------------------------------------------------------------
# Optional local-only values
# -----------------------------------------------------------------------------
# PORT=8091

# One-time SQLite -> PostgreSQL migration script variable
# PG_URL=postgres://USER:PASSWORD@HOST:5432/agentpacks_registry
