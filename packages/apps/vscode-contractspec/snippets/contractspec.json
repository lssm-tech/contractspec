{
  "ContractSpec Command": {
    "prefix": ["contractspec-command", "defineCommand"],
    "body": [
      "import { defineCommand } from '@contractspec/lib.contracts';",
      "import { defineSchemaModel, ScalarTypeEnum } from '@contractspec/lib.schema';",
      "",
      "const ${1:CommandName}Input = defineSchemaModel({",
      "  name: '${1:CommandName}Input',",
      "  fields: {",
      "    ${2:fieldName}: { type: ScalarTypeEnum.String_unsecure(), isOptional: false },",
      "  },",
      "});",
      "",
      "const ${1:CommandName}Output = defineSchemaModel({",
      "  name: '${1:CommandName}Output',",
      "  fields: {",
      "    ok: { type: ScalarTypeEnum.Boolean(), isOptional: false },",
      "  },",
      "});",
      "",
      "export const ${1:CommandName}Spec = defineCommand({",
      "  meta: {",
      "    name: '${3:domain}.${4:operationName}',",
      "    version: 1,",
      "    stability: 'experimental',",
      "    owners: ['@${5:team}'],",
      "    tags: ['${6:tag}'],",
      "    description: '${7:Short description of what this command does}',",
      "    goal: '${8:Business goal this command achieves}',",
      "    context: '${9:Background and constraints}',",
      "  },",
      "",
      "  io: {",
      "    input: ${1:CommandName}Input,",
      "    output: ${1:CommandName}Output,",
      "    errors: {",
      "      // Define possible errors",
      "    },",
      "  },",
      "",
      "  policy: {",
      "    auth: '${10|user,admin,anonymous|}',",
      "  },",
      "",
      "  transport: {",
      "    rest: { method: 'POST' },",
      "  },",
      "});",
      ""
    ],
    "description": "Create a new ContractSpec command (write operation)"
  },
  "ContractSpec Query": {
    "prefix": ["contractspec-query", "defineQuery"],
    "body": [
      "import { defineQuery } from '@contractspec/lib.contracts';",
      "import { defineSchemaModel, ScalarTypeEnum } from '@contractspec/lib.schema';",
      "",
      "const ${1:QueryName}Input = defineSchemaModel({",
      "  name: '${1:QueryName}Input',",
      "  fields: {",
      "    ${2:fieldName}: { type: ScalarTypeEnum.String_unsecure(), isOptional: true },",
      "  },",
      "});",
      "",
      "const ${1:QueryName}Output = defineSchemaModel({",
      "  name: '${1:QueryName}Output',",
      "  fields: {",
      "    items: { type: ScalarTypeEnum.String_unsecure(), isOptional: false, isArray: true },",
      "  },",
      "});",
      "",
      "export const ${1:QueryName}Spec = defineQuery({",
      "  meta: {",
      "    name: '${3:domain}.${4:operationName}',",
      "    version: 1,",
      "    stability: 'experimental',",
      "    owners: ['@${5:team}'],",
      "    tags: ['${6:tag}'],",
      "    description: '${7:Short description of what this query returns}',",
      "    goal: '${8:Business goal this query serves}',",
      "    context: '${9:Background and constraints}',",
      "  },",
      "",
      "  io: {",
      "    input: ${1:QueryName}Input,",
      "    output: ${1:QueryName}Output,",
      "  },",
      "",
      "  policy: {",
      "    auth: '${10|user,admin,anonymous|}',",
      "  },",
      "",
      "  transport: {",
      "    rest: { method: 'GET' },",
      "  },",
      "});",
      ""
    ],
    "description": "Create a new ContractSpec query (read-only operation)"
  },
  "ContractSpec Event": {
    "prefix": ["contractspec-event", "defineEvent"],
    "body": [
      "import { defineEvent } from '@contractspec/lib.contracts';",
      "import { defineSchemaModel, ScalarTypeEnum } from '@contractspec/lib.schema';",
      "",
      "const ${1:EventName}Payload = defineSchemaModel({",
      "  name: '${1:EventName}Payload',",
      "  fields: {",
      "    ${2:fieldName}: { type: ScalarTypeEnum.String_unsecure(), isOptional: false },",
      "  },",
      "});",
      "",
      "export const ${1:EventName}Event = defineEvent({",
      "  name: '${3:domain}.${4:event_name}',",
      "  version: 1,",
      "  description: '${5:Describes when this event is emitted}',",
      "  payload: ${1:EventName}Payload,",
      "  pii: [${6}],",
      "});",
      ""
    ],
    "description": "Create a new ContractSpec event"
  },
  "ContractSpec DocBlock": {
    "prefix": ["contractspec-docblock", "docblock"],
    "body": [
      "import type { DocBlock } from '@contractspec/lib.contracts/docs';",
      "import { registerDocBlocks } from '@contractspec/lib.contracts/docs';",
      "",
      "export const ${1:docblock_name}_DocBlocks: DocBlock[] = [",
      "  {",
      "    id: '${2:docs.category.name}',",
      "    title: '${3:Title}',",
      "    summary: '${4:Brief summary of this documentation}',",
      "    kind: '${5|reference,guide,tutorial,api|}',",
      "    visibility: '${6|public,internal,mixed|}',",
      "    route: '/docs/${7:category}/${8:name}',",
      "    tags: ['${9:tag}'],",
      "    body: `# ${3:Title}",
      "",
      "${10:Documentation content in markdown}",
      "`,",
      "  },",
      "];",
      "",
      "registerDocBlocks(${1:docblock_name}_DocBlocks);",
      ""
    ],
    "description": "Create a new ContractSpec DocBlock"
  },
  "ContractSpec TelemetrySpec": {
    "prefix": ["contractspec-telemetry", "telemetrySpec"],
    "body": [
      "import type { TelemetrySpec } from '@contractspec/lib.contracts/telemetry';",
      "import { StabilityEnum } from '@contractspec/lib.contracts';",
      "",
      "export const ${1:name}Telemetry: TelemetrySpec = {",
      "  meta: {",
      "    name: '${2:domain}.telemetry',",
      "    version: 1,",
      "    title: '${3:Title} Telemetry',",
      "    description: '${4:Description of telemetry events}',",
      "    domain: '${2:domain}',",
      "    owners: ['@${5:team}'],",
      "    tags: ['telemetry'],",
      "    stability: StabilityEnum.Experimental,",
      "  },",
      "  config: {",
      "    defaultRetentionDays: 30,",
      "    defaultSamplingRate: 1,",
      "  },",
      "  events: [",
      "    {",
      "      name: '${2:domain}.${6:event_name}',",
      "      version: 1,",
      "      semantics: {",
      "        what: '${7:What happened}',",
      "        who: '${8:Who performed the action}',",
      "      },",
      "      properties: {",
      "        ${9:property}: { type: 'string', required: true },",
      "      },",
      "      privacy: '${10|internal,public,pii,sensitive|}',",
      "    },",
      "  ],",
      "};",
      ""
    ],
    "description": "Create a new ContractSpec TelemetrySpec"
  },
  "ContractSpec Presentation": {
    "prefix": ["contractspec-presentation", "presentationSpec"],
    "body": [
      "import type { PresentationSpec } from '@contractspec/lib.contracts/presentations';",
      "",
      "export const ${1:PresentationName}Presentation: PresentationSpec = {",
      "  meta: {",
      "    name: '${2:domain}.${3:presentation_name}',",
      "    version: 1,",
      "    description: '${4:Description of this presentation}',",
      "    owners: ['@${5:team}'],",
      "    tags: ['${6:tag}'],",
      "  },",
      "  content: {",
      "    kind: '${7|web_component,markdown,data|}',",
      "    ${8:// For web_component: componentKey, props}",
      "    ${9:// For markdown: content or resourceUri}",
      "    ${10:// For data: mimeType, schema}",
      "  },",
      "};",
      ""
    ],
    "description": "Create a new ContractSpec Presentation"
  }
}








